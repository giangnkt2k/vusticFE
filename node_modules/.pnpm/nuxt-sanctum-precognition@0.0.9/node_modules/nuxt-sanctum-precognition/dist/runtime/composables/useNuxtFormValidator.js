export const useNuxtFormValidator = (form) => {
  async function validate() {
    const apiErrors = await form.validateWithErrors();
    const errors = [];
    for (const [fieldName, fieldErrors] of Object.entries(apiErrors)) {
      if (fieldErrors === void 0 || fieldErrors.length === 0) {
        continue;
      }
      const message = fieldErrors[0];
      if (message === void 0) {
        continue;
      }
      errors.push({
        name: fieldName,
        message
      });
    }
    return errors;
  }
  return validate;
};
