import{f as C,a8 as w,bH as W,V as _,bI as F,bJ as x,bK as q,bL as z,am as k,O as P,a9 as A,bM as H,bN as K,d as N,bO as Z,h as j,bP as Q,a as U,bQ as G,bR as R,aa as X,aB as Y,bS as ee,U as te,n as ne,as as ae}from"#entry";function de(e={}){const{inheritAttrs:a=!0}=e,r=w(),g=N({setup(f,{slots:d}){return()=>{r.value=d.default}}}),i=N({inheritAttrs:a,props:e.props,setup(f,{attrs:d,slots:n}){return()=>{var t;r.value;const l=(t=r.value)==null?void 0:t.call(r,{...e.props==null?le(d):f,$slots:n});return a&&l?.length===1?l[0]:l}}});return Z({define:g,reuse:i},[g,i])}function le(e){const a={};for(const r in e)a[G(r)]=e[r];return a}const oe=F?window:void 0,re=F?window.document:void 0,$=F?window.navigator:void 0;function J(e){var a;const r=_(e);return(a=r?.$el)!=null?a:r}function D(...e){const a=[],r=()=>{a.forEach(n=>n()),a.length=0},g=(n,t,l,c)=>(n.addEventListener(t,l,c),()=>n.removeEventListener(t,l,c)),i=C(()=>{const n=x(_(e[0])).filter(t=>t!=null);return n.every(t=>typeof t!="string")?n:void 0}),f=q(()=>{var n,t;return[(t=(n=i.value)==null?void 0:n.map(l=>J(l)))!=null?t:[oe].filter(l=>l!=null),x(_(i.value?e[1]:e[0])),x(U(i.value?e[2]:e[1])),_(i.value?e[3]:e[2])]},([n,t,l,c])=>{if(r(),!n?.length||!t?.length||!l?.length)return;const p=Q(c)?{...c}:c;a.push(...n.flatMap(v=>t.flatMap(m=>l.map(T=>g(v,m,T,p)))))},{flush:"post"}),d=()=>{f(),r()};return z(r),d}function ue(){const e=w(!1),a=k();return a&&j(()=>{e.value=!0},a),e}function B(e){const a=ue();return C(()=>(a.value,!!e()))}function I(e,a={}){const{controls:r=!1,navigator:g=$}=a,i=B(()=>g&&"permissions"in g),f=w(),d=typeof e=="string"?{name:e}:e,n=w(),t=()=>{var c,p;n.value=(p=(c=f.value)==null?void 0:c.state)!=null?p:"prompt"};D(f,"change",t,{passive:!0});const l=H(async()=>{if(i.value){if(!f.value)try{f.value=await g.permissions.query(d)}catch{f.value=void 0}finally{t()}if(r)return te(f.value)}});return l(),r?{state:n,isSupported:i,query:l}:n}function pe(e={}){const{navigator:a=$,read:r=!1,source:g,copiedDuring:i=1500,legacy:f=!1}=e,d=B(()=>a&&"clipboard"in a),n=I("clipboard-read"),t=I("clipboard-write"),l=C(()=>d.value||f),c=w(""),p=w(!1),v=W(()=>p.value=!1,i,{immediate:!1});async function m(){let s=!(d.value&&y(n.value));if(!s)try{c.value=await a.clipboard.readText()}catch{s=!0}s&&(c.value=u())}l.value&&r&&D(["copy","cut"],m,{passive:!0});async function T(s=_(g)){if(l.value&&s!=null){let o=!(d.value&&y(t.value));if(!o)try{await a.clipboard.writeText(s)}catch{o=!0}o&&h(s),c.value=s,p.value=!0,v.start()}}function h(s){const o=document.createElement("textarea");o.value=s??"",o.style.position="absolute",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"),o.remove()}function u(){var s,o,b;return(b=(o=(s=document?.getSelection)==null?void 0:s.call(document))==null?void 0:o.toString())!=null?b:""}function y(s){return s==="granted"||s==="prompt"}return{isSupported:l,text:c,copied:p,copy:T}}function se(e){return JSON.parse(JSON.stringify(e))}function ve(e,a={}){var r,g;const i=w(!1),f=w(null);let d=0,n=!0;if(F){const t=typeof a=="function"?{onDrop:a}:a,l=(r=t.multiple)!=null?r:!0,c=(g=t.preventDefaultForUnhandled)!=null?g:!1,p=u=>{var y,s;const o=Array.from((s=(y=u.dataTransfer)==null?void 0:y.files)!=null?s:[]);return o.length===0?null:l?o:[o[0]]},v=u=>{const y=U(t.dataTypes);return typeof y=="function"?y(u):y?.length?u.length===0?!1:u.every(s=>y.some(o=>s.includes(o))):!0},m=u=>{const y=Array.from(u??[]).map(b=>b.type),s=v(y),o=l||u.length<=1;return s&&o},T=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),h=(u,y)=>{var s,o,b,E,S,L;const V=(s=u.dataTransfer)==null?void 0:s.items;if(n=(o=V&&m(V))!=null?o:!1,c&&u.preventDefault(),!T()&&!n){u.dataTransfer&&(u.dataTransfer.dropEffect="none");return}u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="copy");const M=p(u);switch(y){case"enter":d+=1,i.value=!0,(b=t.onEnter)==null||b.call(t,null,u);break;case"over":(E=t.onOver)==null||E.call(t,null,u);break;case"leave":d-=1,d===0&&(i.value=!1),(S=t.onLeave)==null||S.call(t,null,u);break;case"drop":d=0,i.value=!1,n&&(f.value=M,(L=t.onDrop)==null||L.call(t,M,u));break}};D(e,"dragenter",u=>h(u,"enter")),D(e,"dragover",u=>h(u,"over")),D(e,"dragleave",u=>h(u,"leave")),D(e,"drop",u=>h(u,"drop"))}return{files:f,isOverDropZone:i}}const O=new Map;function me(e){const a=ae();function r(n){var t;const l=O.get(e)||new Set;l.add(n),O.set(e,l);const c=()=>i(n);return(t=a?.cleanups)==null||t.push(c),c}function g(n){function t(...l){i(t),n(...l)}return r(t)}function i(n){const t=O.get(e);t&&(t.delete(n),t.size||f())}function f(){O.delete(e)}function d(n,t){var l;(l=O.get(e))==null||l.forEach(c=>c(n,t))}return{on:r,once:g,off:i,emit:d,reset:f}}const ie={multiple:!0,accept:"*",reset:!1,directory:!1};function ce(e){if(!e)return null;if(e instanceof FileList)return e;const a=new DataTransfer;for(const r of e)a.items.add(r);return a.files}function ge(e={}){const{document:a=re}=e,r=P(ce(e.initialFiles)),{on:g,trigger:i}=R(),{on:f,trigger:d}=R(),n=C(()=>{var p;const v=(p=J(e.input))!=null?p:a?a.createElement("input"):void 0;return v&&(v.type="file",v.onchange=m=>{const T=m.target;r.value=T.files,i(r.value)},v.oncancel=()=>{d()}),v}),t=()=>{r.value=null,n.value&&n.value.value&&(n.value.value="",i(null))},l=p=>{const v=n.value;v&&(v.multiple=_(p.multiple),v.accept=_(p.accept),v.webkitdirectory=_(p.directory),ee(p,"capture")&&(v.capture=_(p.capture)))},c=p=>{const v=n.value;if(!v)return;const m={...ie,...e,...p};l(m),_(m.reset)&&t(),v.click()};return X(()=>{l(e)}),{files:Y(r),open:c,reset:t,onCancel:f,onChange:g}}function ye(e,a,r,g={}){var i,f,d;const{clone:n=!1,passive:t=!1,eventName:l,deep:c=!1,defaultValue:p,shouldEmit:v}=g,m=k(),T=r||m?.emit||((i=m?.$emit)==null?void 0:i.bind(m))||((d=(f=m?.proxy)==null?void 0:f.$emit)==null?void 0:d.bind(m?.proxy));let h=l;h=h||`update:${a.toString()}`;const u=o=>n?typeof n=="function"?n(o):se(o):o,y=()=>K(e[a])?u(e[a]):p,s=o=>{v?v(o)&&T(h,o):T(h,o)};if(t){const o=y(),b=P(o);let E=!1;return A(()=>e[a],S=>{E||(E=!0,b.value=u(S),ne(()=>E=!1))}),A(b,S=>{!E&&(S!==e[a]||c)&&s(S)},{deep:c}),b}else return C({get(){return y()},set(o){s(o)}})}export{ve as a,ge as b,de as c,ye as d,me as e,pe as u};
